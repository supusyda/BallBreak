window.__require=function t(e,o,n){function r(l,i){if(!o[l]){if(!e[l]){var c=l.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!i&&p)return p(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var s=o[l]={exports:{}};e[l][0].call(s.exports,function(t){return r(e[l][1][t]||t)},s,s.exports,t,e,o,n)}return o[l].exports}for(var a="function"==typeof __require&&__require,l=0;l<n.length;l++)r(n[l]);return r}({BallDetect:[function(t,e,o){"use strict";cc._RF.push(e,"77b7dHtd1BO6ZawAEbBGOke","BallDetect");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./Ball"),i=cc._decorator,c=i.ccclass,p=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thisBall=null,e}return r(e,t),e.prototype.onLoad=function(){this.collider=this.getComponent(cc.CircleCollider),this.thisBall=this.node.parent.getComponent(l.default)},e.prototype.update=function(){},e.prototype.onCollisionEnter=function(t){t.node.parent.getComponent(l.default).ballIndex==this.thisBall.ballIndex&&this.thisBall.sameBallType.push(t.node.parent)},e.prototype.onCollisionExit=function(t){if(t.node.parent.getComponent(l.default).ballIndex==this.thisBall.ballIndex){var e=this.thisBall.sameBallType.indexOf(t.node.parent);-1!==e&&this.thisBall.sameBallType.splice(e,1)}},a([c],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./Ball":"Ball"}],BallSpawnPlace:[function(t,e,o){"use strict";cc._RF.push(e,"873b76NkzJEsaFw7AA8LRUB","BallSpawnPlace");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./SpawnPoint"),i=cc._decorator,c=i.ccclass,p=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),a([c],e)}(l.default));o.default=p,cc._RF.pop()},{"./SpawnPoint":"SpawnPoint"}],BallSpawnerCrl:[function(t,e,o){"use strict";cc._RF.push(e,"da7baHuO+BLMb1pKIfBtpbK","BallSpawnerCrl");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../GameManager"),i=t("./BallSpawnPlace"),c=t("./BallSpawner"),p=cc._decorator,s=p.ccclass,u=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.LoadBallSpawner=function(){this.BallSpawner=this.node.getComponent(c.default)},e.prototype.LoadBallPlace=function(){this.BallPlace=this.node.getComponentInChildren(i.default)},e.prototype.start=function(){this.LoadBallPlace(),this.LoadBallSpawner(),l.default.Instance.setBallSpawnerCtr(this)},a([s],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../GameManager":"GameManager","./BallSpawnPlace":"BallSpawnPlace","./BallSpawner":"BallSpawner"}],BallSpawner:[function(t,e,o){"use strict";cc._RF.push(e,"cb64bQPcgNIIrSfSu7AlDMF","BallSpawner");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./Spawner"),i=cc._decorator,c=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabsName="Ball",e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.Instance=this},e.Instance=null,a([p({multiline:!0})],e.prototype,"prefabsName",void 0),o=a([c],e)}(l.default);o.default=s,cc._RF.pop()},{"./Spawner":"Spawner"}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"58a77XfpdND3KhVpq4MP/AZ","Ball");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../GameManager"),i=cc._decorator,c=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballIndex=0,e.sameBallType=[],e.canBeSelected=!1,e.canGoTo=!1,e.isOnList=!1,e.rb=null,e.highLightLevel={1:"HighLight",2:"HighLight2"},e.stationaryVelocityThreshold=.1,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){this.rb=this.node.getComponent(cc.RigidBody),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this)},e.prototype.onMouseDown=function(){l.default.Instance.isMouseDown=!0,0!=this.canBeSelected&&null==l.default.Instance.rootNode&&(l.default.Instance.rootNode=this.node,this.MarkCanGo(),this.MarkWayGo())},e.prototype.onMouseUp=function(){l.default.Instance.isMouseDown=!1,l.default.Instance.DestroySameType()},e.prototype.onMouseEnter=function(t){if(1==l.default.Instance.isMouseDown){if(null==l.default.Instance.rootNode)return;if(l.default.Instance.rootNode.getComponent(o).ballIndex!=this.ballIndex||0==this.canGoTo)return;if(l.default.Instance.list.includes(t.getCurrentTarget())){if(console.log("SdsdS"),l.default.Instance.previousNode.getComponent(o).ClearMarkCanGoOfThisBall(),!(l.default.Instance.list.length>1))return l.default.Instance.previousNode=l.default.Instance.GetlastNodeInList(),void l.default.Instance.previousNode.getComponent(o).MarkCanGo();l.default.Instance.previousNode.getComponent(o).TurnOffHighlight(this.highLightLevel[2]),l.default.Instance.list.pop(),l.default.Instance.previousNode=l.default.Instance.GetlastNodeInList(),l.default.Instance.previousNode.getComponent(o).MarkCanGo()}else l.default.Instance.previousNode.getComponent(o).ClearMarkCanGoOfThisBall(),this.MarkCanGo(),this.MarkWayGo()}},e.prototype.update=function(){this.rb?this.rb.linearVelocity.mag()<this.stationaryVelocityThreshold?this.canBeSelected=!0:this.canBeSelected=!1:console.log("RigidBody component not found.")},e.prototype.TurnOnHighlight=function(t){this.node.getChildByName(t).active=!0,this.node.getChildByName(t).active=!0},e.prototype.TurnOffHighlight=function(t){this.node.getChildByName(t).active=!1,this.node.getChildByName(t).active=!1},e.prototype.MarkCanGo=function(){var t=this;this.canGoTo=!0,this.sameBallType.forEach(function(e){e.getComponent(o).TurnOnHighlight(t.highLightLevel[1]),e.getComponent(o).canGoTo=!0})},e.prototype.ClearMarkCanGoOfThisBall=function(){var t=this;this.TurnOffHighlight(this.highLightLevel[1]),this.sameBallType.forEach(function(e){e.getComponent(o).TurnOffHighlight(t.highLightLevel[1]),e.getComponent(o).canGoTo=!1})},e.prototype.MarkWayGo=function(){this.getComponent(o).TurnOnHighlight(this.highLightLevel[2]),l.default.Instance.AddToList(this.node),this.isOnList=!0,l.default.Instance.previousNode=this.node},a([p(Number)],e.prototype,"ballIndex",void 0),a([p(cc.Node)],e.prototype,"sameBallType",void 0),a([p(Boolean)],e.prototype,"canBeSelected",void 0),a([p(Boolean)],e.prototype,"canGoTo",void 0),a([p(Boolean)],e.prototype,"isOnList",void 0),o=a([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../GameManager":"GameManager"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"f57c7o9s/hEzZuuV0ZWWvRV","GameManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./Ball/Ball"),i=cc._decorator,c=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballNumber=0,e.rootNode=null,e.previousNode=null,e.list=[],e.ballHolder=null,e.isMouseDown=!1,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,o.Instance=this,this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this)},e.prototype.onMouseUp=function(){1==this.isMouseDown&&this.list.length>0&&(this.isMouseDown=!1,this.DestroySameType())},e.prototype.setBallSpawnerCtr=function(t){var e=this;this.ballSpawnCrl=t,null!=this.ballSpawnCrl&&this.schedule(function(){if(!(e.ballNumber>=12)){var t=Math.floor(4*Math.random()),o=Math.floor(4*Math.random())+1;e.ballSpawnCrl.BallSpawner.SpawnThing(e.ballSpawnCrl.BallPlace.spawnPlace[t].position,e.ballSpawnCrl.BallSpawner.prefabsName+" "+o),e.ballNumber++,console.log(e.ballNumber)}},.2)},e.prototype.ResetAllMark=function(){var t=this;this.ballHolder.children.forEach(function(e){var o=e.getComponent(l.default);o.TurnOffHighlight(o.highLightLevel[1]),o.TurnOffHighlight(o.highLightLevel[2]),o.canGoTo=!1,t.list.length=0,t.rootNode=null})},e.prototype.DestroySameType=function(){var t=this;this.list.length<3?this.ResetAllMark():(this.list.forEach(function(e){e.destroy(),t.ballNumber--}),this.ResetAllMark())},e.prototype.AddToList=function(t){this.list.includes(t)||this.list.push(t)},e.prototype.GetlastNodeInList=function(){return this.list[this.list.length-1]},e.prototype.update=function(){},e.Instance=null,a([p(cc.Node)],e.prototype,"rootNode",void 0),a([p(cc.Node)],e.prototype,"previousNode",void 0),a([p(cc.Node)],e.prototype,"list",void 0),a([p(cc.Node)],e.prototype,"ballHolder",void 0),a([p(cc.Node)],e.prototype,"ballSpawnCrl",void 0),o=a([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Ball/Ball":"Ball"}],SpawnPoint:[function(t,e,o){"use strict";cc._RF.push(e,"b8aa5GKMiVAdI9Bc7Mr3KSP","SpawnPoint");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spawnPlace=[],e}return r(e,t),e.prototype.LoadSpawnPlace=function(){var t=this;this.node.children.forEach(function(e){t.spawnPlace.push(e)})},e.prototype.onLoad=function(){this.LoadSpawnPlace()},a([c(cc.Node)],e.prototype,"spawnPlace",void 0),a([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Spawner:[function(t,e,o){"use strict";cc._RF.push(e,"dde0fI8DmJCfr8uTp+PtOEk","Spawner");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,l=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(a<3?r(l):a>3?r(e,o,l):r(e,o))||l);return a>3&&l&&Object.defineProperty(e,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,i=l.ccclass,c=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabs=[],e.holder=null,e}return r(e,t),e.prototype.LoadHolder=function(){null==this.holder&&(this.holder=this.node.getChildByName("Holder"))},e.prototype.LoadPrefabs=function(){var t=this;this.node.getChildByName("Prefabs").children.forEach(function(e){t.prefabs.push(e)})},e.prototype.GetPrefabByName=function(t){var e=null;return this.prefabs.forEach(function(o){o.name==t&&(e=o)}),e},e.prototype.SpawnThing=function(t,e){var o=this.GetPrefabByName(e);if(null==o)return null;var n=cc.instantiate(o);return n.active=!0,n.position=t,n.parent=this.holder,n},e.prototype.start=function(){this.LoadHolder(),this.LoadPrefabs()},a([c(cc.Node)],e.prototype,"prefabs",void 0),a([c(cc.Node)],e.prototype,"holder",void 0),a([i],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["Ball","BallDetect","GameManager","BallSpawnPlace","BallSpawner","BallSpawnerCrl","SpawnPoint","Spawner"]);